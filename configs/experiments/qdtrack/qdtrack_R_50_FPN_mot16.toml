[[config]]
path = "../../base/datasets/mot16.toml"

[[config]]
path = "../../base/models/mmdetection/qdtrack_R_50_FPN.toml"

[model]
    [model.detection]
    model_kwargs= {"backbone.style" = "caffe", "backbone.norm_cfg.requires_grad" = false, "backbone.init_cfg.checkpoint" = "open-mmlab://detectron2/resnet50_caffe"}
    num_classes = 1
    pixel_mean = [103.530, 116.280, 123.675]
    pixel_std = [1.0, 1.0, 1.0]
    weights = "mmdet://faster_rcnn/faster_rcnn_r50_fpn_1x_coco-person/faster_rcnn_r50_fpn_1x_coco-person_20201216_175929-d022e227.pth"

[dataloader]
clip_bboxes_to_image = false
image_channel_mode = "BGR"

[solver]
images_per_gpu = 8
lr_policy = "WarmupMultiStepLR"
base_lr = 0.01
steps = [16500]
max_iters = 22000
checkpoint_period = 5500
log_period = 50
eval_period = 5500

[launch]
device = "cuda"
num_gpus = 4
